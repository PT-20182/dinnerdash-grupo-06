<%= form_with(model: meal, local: true) do |form| %>
  <% if meal.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(meal.errors.count, "error") %> prohibited this meal from being saved:</h2>

      <ul>
      <% meal.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col" style="width: 100%;">
        <%= form.label "Nome"%>
          <%= form.text_field :name,class:"form-control" %>
    </div>
    <div class="col">
          <%= form.label :category_id %>
      <select class="form-control" <%= form.collection_select(:category_id, Category.all, :id, :name, prompt: true) %></select>
    </div>
  </div>

  <div class="form-group" >
          <br>
      <%= form.label "descricão" %>
       <textarea class="form-control" aria-label="With textarea" <%= form.text_field :description,class:"form-control"%> </textarea>
  </div>

  <div class="row">
    <div class="col" style="width: 80em;">
          <%= form.label "Preço" %>
          <%= form.text_field :price ,class:"form-control" %>
          <br>
    </div>
    <div class="col">
      <%= form.label "Foto" %>
      <br>
      <div class="custom-file">
        <input type="file" class="custom-file-input" id="validatedCustomFile" required <%= form.file_field :image, accept: 'image/png,image/jpeg' %>
        <label class="custom-file-label" for="validatedCustomFile">Escolher arquivo...</label>
        <div class="invalid-feedback">Example invalid custom file feedback</div>
    </div>

    </div>
  </div>

  <div class="col-p-0" style="width: 48.8%;">

    <label class="form-check-label" <%= form.check_box :available %></label>
    <%= form.label "Está disponível no cardápio." %>
  </div>

<div class="row" id="topmargin">
  <div class="col" id="nopad">
        <%= form.submit "Atualizar Refeicoes",class:"btn btn-success col-md-2" %>
      <%= link_to "Voltar", meals_path,class:"btn btn-secondary col-md-2"%>
  </div>
</div>
<% end %>
